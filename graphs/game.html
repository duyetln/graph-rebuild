<!DOCTYPE html>
<html>
  <head>
    <link href='http://code.google.com/apis/maps/documentation/javascript/examples/default.css' rel='stylesheet' type='text/css'>
    <link href='images/system/dominos_fav.png' rel='shortcut icon'>
    <title>
      Causlings!
    </title>
    <link href="stylesheets/styles.css?1337974408" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/vis_style.css?1337974714" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/jquery.qtip.min.css?1329868706" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/game.css?1337974408" media="screen" rel="stylesheet" type="text/css" />
    
    <script src="javascripts/jquery.js?1329868706" type="text/javascript"></script>
    <script src="javascripts/jquery_ujs.js?1329868706" type="text/javascript"></script>
    <script src="javascripts/application.js?1333951743" type="text/javascript"></script>
    <meta name="csrf-param" content="authenticity_token"/>
    <meta name="csrf-token" content="v36hOwZNgbfSILo57Ldqwm6&#47;3SK5ihbUDgF1jFV7RJ4="/>
    
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js" type="text/javascript"></script>
  </head>
  <body>
    <div align='center' id='container'>
      <div id='content'>
        <!-- /.filler -->
        <!-- = stylesheet_link_tag "jquery.qtip.min" //included in layout so we can overwrite -->
        <link href="stylesheets/colorbox.css?1334215052" media="screen" rel="stylesheet" type="text/css" />
        <link href="stylesheets/howdydo-bar.css?1337974408" media="screen" rel="stylesheet" type="text/css" />
        <style>
          /*<![CDATA[*/
            #button_bar {width: 1000px;}
            #vis_container {width: 1000px; height: 900px;}
            #canvas_container {width: 1000px; height: 900px;}
          /*]]>*/
        </style>
        <script src="javascripts/jquery.qtip.min.js?1329868706" type="text/javascript"></script>
        <!-- = javascript_include_tag "d3.v2.min.js" -->
        <script src="javascripts/raphael-min-2.0.2.js?1333951743" type="text/javascript"></script>
        <script src="javascripts/jquery.colorbox-min.js?1334215052" type="text/javascript"></script>
        <script src="javascripts/jquery.howdydo-bar.js?1337974408" type="text/javascript"></script>
        <!-- specifies the data that we're going to be working with in javascript -->
        <script>
          //<![CDATA[
            var hasSelection = false;
var currNodes={0:{id:0,name:'ALGAE BLOOMS/DEAD ZONES',x:38,y:50,url:'',h:0},3:{id:3,name:'BAD WEATHER',x:154,y:50,url:'',h:0},4:{id:4,name:'AMOUNT OF SAMAKI CAUGHT',x:270,y:50,url:'',h:0},5:{id:5,name:'COASTAL WATER QUALITY',x:386,y:50,url:'',h:0},6:{id:6,name:'COST OF SAMAKI PER UNIT CATCH',x:502,y:50,url:'',h:0},7:{id:7,name:'SOCIETY AFFLUENCE',x:618,y:50,url:'',h:0},8:{id:8,name:'DEMAND FOR FARM-RAISED FISH FEED (AQUACULTURE)',x:734,y:50,url:'',h:0},10:{id:10,name:'DEMAND FOR LIVESTOCK FEED',x:850,y:50,url:'',h:0},11:{id:11,name:'DEMAND FOR OMEGA-3 AS A FOOD SUPPLEMENT',x:966,y:50,url:'',h:0},12:{id:12,name:'EFFORT PUT INTO CATCHING SAMAKI',x:1082,y:50,url:'',h:0},13:{id:13,name:'EL NINO',x:1198,y:50,url:'',h:0},15:{id:15,name:'LIFESPAN OF SAMAKI',x:1314,y:50,url:'',h:0},16:{id:16,name:'MANAGEMENT AT THE ECOSYSTEM LEVEL',x:1430,y:50,url:'',h:0},17:{id:17,name:'MANAGEMENT OF SAMAKI CATCH',x:1546,y:50,url:'',h:0},18:{id:18,name:'MARINE MAMMALS',x:1662,y:50,url:'',h:0},19:{id:19,name:'SAMAKI POPULATION',x:500,y:450,url:'',h:0},20:{id:20,name:'DISSOLVED OXYGEN LEVELS',x:1778,y:50,url:'',h:0},21:{id:21,name:'NUTRIENTS IN THE WATER',x:1894,y:50,url:'',h:0},22:{id:22,name:'OMEGA CORPORATION PROFITS',x:2010,y:50,url:'',h:0},23:{id:23,name:'PREDATORY BIRD POPULATIONS',x:2126,y:50,url:'',h:0},24:{id:24,name:'PUBLIC INFORMATION TO INCREASE FISH OIL INTAKE',x:2242,y:50,url:'',h:0},25:{id:25,name:'PUBLIC WORRY ABOUT DECREASE OF SAMAKI',x:2358,y:50,url:'',h:0},26:{id:26,name:'REPRODUCTION RATE OF SAMAKI',x:2474,y:50,url:'',h:0},27:{id:27,name:'SALES PRICE PER UNIT CATCH',x:2590,y:50,url:'',h:0},28:{id:28,name:'SOYBEANS SALES',x:2706,y:50,url:'',h:0},29:{id:29,name:'SPORT FISH HEALTH',x:2822,y:50,url:'',h:0},30:{id:30,name:'SPORT FISH POPULATIONS',x:2938,y:50,url:'',h:0},31:{id:31,name:'SCIENTIFIC SPECULATION OF OVERFISHING',x:3054,y:50,url:'',h:0},32:{id:32,name:'SAMAKI INDUSTRY LEADERS\' CLAIM OF HEALTHY FISHERY',x:3170,y:50,url:'',h:0},33:{id:33,name:'DISAGREEMENT OVER SAMAKI POPULATION HEALTH',x:3286,y:50,url:'',h:0},34:{id:34,name:'PRICE OF COMPETING PRODUCTS (SOYBEANS/VEGETABLE OILS)',x:3402,y:50,url:'',h:0},35:{id:35,name:'REPRODUCTION RATE PER UNIT FISH',x:3518,y:50,url:'',h:0},36:{id:36,name:'PRODUCTION FROM INTERNATIONAL FISH OIL COMPETITORS',x:3634,y:50,url:'',h:0},37:{id:37,name:'AMOUNT OF SPORT FISH CAUGHT',x:3750,y:50,url:'',h:0},38:{id:38,name:'HUMAN POPULATION',x:3866,y:50,url:'',h:0},39:{id:39,name:'FOOD EATEN PER FISH (SAMAKI)',x:3982,y:50,url:'',h:0},keys:[0,3,4,5,6,7,8,10,11,12,13,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]};
var currEdges={keys:[]};

//<!-- #REPLACEGRAPHDATA -->

            var yes={0:{5:{'1':1,'-1':1},16:{'1':1},18:{'1':1},19:{'1':1,'-1':1},20:{'-1':4},22:{'-1':1},23:{'1':1},25:{'1':1},26:{'1':1},29:{'1':1},30:{'-1':1},37:{'-1':1},39:{'1':1}},3:{4:{'1':1,'-1':1},5:{'1':1},6:{'1':4},12:{'-1':1},16:{'-1':1},18:{'1':1},19:{'1':4,'-1':1},22:{'-1':4},23:{'1':1},25:{'-1':1},26:{'-1':1},29:{'1':1},30:{'1':1},31:{'-1':1},32:{'-1':1},33:{'-1':1},37:{'1':1}},4:{0:{'1':4},6:{'1':4},12:{'1':1},15:{'-1':4},16:{'1':1},17:{'1':4},18:{'-1':6},19:{'-1':6},22:{'1':4,'-1':1},23:{'-1':6},25:{'1':4},26:{'-1':1},27:{'-1':1},29:{'1':1,'-1':1},30:{'-1':6},31:{'1':4},32:{'1':1,'-1':1},36:{'-1':1},37:{'-1':1},39:{'1':1}},5:{4:{'1':1},6:{'-1':1},16:{'1':1,'-1':4},17:{'-1':1},18:{'1':4},19:{'1':4,'-1':1},20:{'1':1,'-1':1},21:{'1':1},22:{'1':1},23:{'1':4},25:{'-1':1},26:{'1':1,'-1':1},29:{'1':4,'-1':1},30:{'1':4},31:{'-1':4},32:{'1':1,'-1':1},33:{'-1':1},37:{'1':1}},6:{4:{'1':1,'-1':1},12:{'1':1,'-1':4},19:{'1':1},22:{'1':1,'-1':1},27:{'1':1},32:{'-1':1}},7:{6:{'1':1},8:{'1':4},10:{'1':1},11:{'1':1},12:{'1':1},22:{'1':1},27:{'1':6},28:{'1':1},29:{'-1':1},30:{'-1':1},37:{'1':1}},8:{6:{'1':1},12:{'1':4},22:{'1':6},27:{'1':6},36:{'1':1}},10:{6:{'1':1},12:{'1':4},22:{'1':6},27:{'1':6},28:{'1':4},34:{'1':1,'-1':1},36:{'1':1}},11:{6:{'1':1},12:{'1':6},22:{'1':6},27:{'1':8},36:{'1':1}},12:{4:{'1':8,'-1':1},5:{'-1':1},6:{'1':1},15:{'-1':4},16:{'1':1},17:{'1':1},18:{'-1':1},19:{'-1':8},22:{'1':4},23:{'-1':1},25:{'1':1},27:{'-1':1},29:{'1':1},30:{'-1':1},31:{'1':1,'-1':1},32:{'-1':4},33:{'-1':1},37:{'-1':1}},13:{3:{'1':1},4:{'-1':1},5:{'1':1},6:{'1':1},16:{'-1':1},18:{'1':1},19:{'1':4},22:{'-1':1},23:{'1':1},25:{'-1':1},27:{'1':1},29:{'1':1},30:{'1':1},36:{'-1':1},37:{'1':1}},15:{17:{'-1':1},18:{'-1':1},19:{'1':1,'-1':1},22:{'1':1},23:{'-1':1},26:{'1':1,'-1':1},30:{'-1':1}},16:{0:{'-1':1},4:{'1':4},5:{'1':4},6:{'1':1,'-1':1},12:{'-1':4},17:{'1':1,'-1':1},18:{'1':6},19:{'1':8,'-1':1},20:{'1':1},21:{'1':1},22:{'-1':1},23:{'1':6},25:{'-1':6},26:{'1':1},29:{'1':4},30:{'1':6},31:{'-1':4},33:{'-1':1},37:{'1':6},39:{'-1':1}},17:{0:{'-1':1},4:{'1':4,'-1':1},5:{'1':1},12:{'-1':4},15:{'1':1},16:{'-1':1},18:{'1':4},19:{'1':8},22:{'-1':4},23:{'1':4},25:{'-1':1},26:{'1':1},27:{'1':1},29:{'1':1,'-1':1},30:{'1':4},31:{'-1':1},32:{'1':1},37:{'1':1}},18:{0:{'1':1},4:{'1':1,'-1':1},5:{'-1':4},6:{'1':1},12:{'-1':1},16:{'1':1,'-1':4},17:{'-1':1},19:{'-1':6},20:{'-1':1},21:{'-1':1},22:{'1':1},23:{'-1':6},25:{'1':1,'-1':4},26:{'-1':1},29:{'-1':1},30:{'-1':4},31:{'1':1,'-1':4},32:{'-1':1},33:{'-1':4},39:{'1':1}},19:{0:{'-1':4},4:{'1':4,'-1':4},5:{'1':4,'-1':1},6:{'-1':4},12:{'1':1,'-1':1},15:{'-1':1},16:{'1':1,'-1':6},17:{'-1':6},18:{'1':6},20:{'1':1},22:{'1':6},23:{'1':6},25:{'-1':6},26:{'-1':1},27:{'-1':1},29:{'1':1},30:{'1':6},31:{'1':1,'-1':6},32:{'1':4},33:{'1':1,'-1':1},37:{'1':6},39:{'-1':4}},20:{0:{'-1':1},4:{'1':1},5:{'1':4,'-1':1},6:{'-1':1},16:{'1':1,'-1':1},18:{'1':4,'-1':1},19:{'1':4},21:{'1':1},22:{'1':1},23:{'1':4,'-1':1},25:{'-1':4},26:{'1':1},29:{'1':1,'-1':1},30:{'1':6},31:{'-1':1},37:{'1':1},39:{'-1':1}},21:{0:{'1':6},5:{'1':4,'-1':4},16:{'1':4},18:{'1':1},19:{'1':4,'-1':1},20:{'1':1,'-1':4},22:{'-1':1},23:{'1':1},25:{'1':1},26:{'1':1},29:{'1':1,'-1':1},30:{'1':1,'-1':1},37:{'-1':1},39:{'1':4}},22:{4:{'1':4},6:{'-1':1},12:{'1':4},17:{'-1':1},32:{'1':1}},23:{0:{'1':1},4:{'1':1,'-1':1},5:{'-1':4},6:{'1':1},12:{'-1':1},16:{'1':1,'-1':4},17:{'-1':1},18:{'-1':6},19:{'-1':6},20:{'-1':1},21:{'-1':1},22:{'1':1},25:{'1':1,'-1':4},26:{'-1':1},29:{'-1':1},30:{'-1':4},31:{'1':1,'-1':4},32:{'-1':1},33:{'-1':4},39:{'1':1}},24:{6:{'1':1},11:{'1':6},12:{'1':4},22:{'1':1},27:{'1':8}},25:{4:{'-1':1},5:{'1':1},16:{'1':4},17:{'1':4},18:{'1':4},19:{'1':4},20:{'1':1},21:{'1':1},23:{'1':4},26:{'1':1},29:{'1':1},30:{'1':4},33:{'1':1}},26:{0:{'-1':1},4:{'1':1,'-1':1},5:{'1':4},6:{'-1':4},16:{'1':1},17:{'-1':1},18:{'1':1},19:{'1':6,'-1':1},20:{'1':1},22:{'1':1},23:{'1':1},25:{'-1':1},30:{'1':1},31:{'1':1,'-1':4},32:{'1':4},33:{'1':1},39:{'-1':1}},27:{4:{'1':4,'-1':1},6:{'-1':1},12:{'1':6},19:{'-1':1},22:{'1':6},32:{'1':1},36:{'1':1}},28:{12:{'-1':1},22:{'-1':1},27:{'-1':1},34:{'-1':4}},29:{5:{'-1':1},16:{'1':1,'-1':1},17:{'-1':1},18:{'-1':1},19:{'-1':4},20:{'-1':1},21:{'-1':1},23:{'-1':1},25:{'-1':1},26:{'-1':1},30:{'1':4,'-1':4},31:{'-1':1},32:{'1':1},33:{'-1':1},37:{'1':4,'-1':1}},30:{0:{'1':1},4:{'1':1,'-1':1},5:{'-1':4},6:{'1':1},12:{'-1':1},16:{'1':1,'-1':6},17:{'-1':4},18:{'-1':6},19:{'-1':6},20:{'-1':1},21:{'-1':1},22:{'1':1},23:{'1':1,'-1':6},25:{'1':1,'-1':6},26:{'-1':1},29:{'-1':6},31:{'1':1,'-1':4},32:{'1':1,'-1':1},33:{'-1':4},37:{'1':6},39:{'1':1}},31:{4:{'-1':1},5:{'1':4},12:{'-1':1},16:{'1':6,'-1':1},17:{'1':8},18:{'1':6},19:{'1':6},20:{'1':1},21:{'1':1},22:{'-1':1},23:{'1':6},25:{'1':4,'-1':1},26:{'1':4},29:{'1':4},30:{'1':6},33:{'1':1},37:{'1':1}},32:{4:{'1':1},6:{'-1':1},12:{'1':1},17:{'-1':4},22:{'1':1},25:{'-1':1},33:{'1':1,'-1':1}},33:{5:{'1':1},16:{'1':1},17:{'1':1},18:{'1':1},19:{'1':1},20:{'1':1},21:{'1':1},22:{'1':1},23:{'1':1},26:{'1':1},29:{'1':1},30:{'1':1},32:{'1':1}},34:{12:{'1':4},22:{'1':4},27:{'1':1},36:{'1':1}},35:{5:{'1':1},6:{'-1':1},16:{'-1':1},17:{'-1':1},18:{'1':1},19:{'1':1},22:{'1':1},23:{'1':1},25:{'-1':1},26:{'-1':1},29:{'1':1},30:{'1':1},31:{'-1':1},32:{'1':1},37:{'1':1}},36:{11:{'-1':1},12:{'-1':4},22:{'-1':4},27:{'-1':4}},37:{16:{'1':4},19:{'1':1},23:{'-1':1},25:{'1':4},29:{'1':1,'-1':1},30:{'-1':6},31:{'1':1},32:{'1':1},33:{'1':1}},38:{0:{'1':4,'-1':1},5:{'-1':8},6:{'1':1},7:{'1':1},8:{'1':6},10:{'1':4},11:{'1':4},12:{'1':1},16:{'1':1},17:{'1':1},18:{'-1':1},19:{'1':1,'-1':1},20:{'1':1,'-1':4},21:{'1':6,'-1':1},23:{'-1':1},24:{'1':1},25:{'1':4},26:{'1':1},27:{'1':8},28:{'1':1},30:{'-1':1},31:{'1':1},33:{'1':1},34:{'1':1},37:{'-1':1},39:{'1':1}},39:{0:{'-1':4},4:{'1':4},5:{'1':1},6:{'-1':1},12:{'-1':1},15:{'1':1},17:{'-1':4},18:{'1':4},19:{'1':6},20:{'1':1},23:{'1':4},25:{'-1':1},26:{'1':4},29:{'1':1},30:{'1':4},31:{'-1':1},35:{'1':1}},w:-2};
            //var notice_msg = "";
          //]]>
        </script>
        <script src="javascripts/causemap_rjs.js?1337974408" type="text/javascript"></script>
        <script>
          //<![CDATA[
            var INCREASES = 1; //type constants
                var SUPERSET = 4;
                var EXPANDABLE = 8;
                var HIGHLIGHTED = 16;
            
                var player_id = 400167505
                var HOME = 19;
                var continuous = false;
                
                var myPaper, paper, paper_size;
                var CANVAS_OFFSET;
                $(document).ready(function(){

                	var canvas_container = $('#canvas_container').get(0);
                	paper = myPaper = new Raphael(canvas_container, canvas_container.offsetWidth, canvas_container.offsetHeight); //graphics context
                	paper_size = {width:canvas_container.offsetWidth, height:canvas_container.offsetHeight};
                	CANVAS_OFFSET = $(paper.canvas).parent().offset(); 
                  drawElements(currNodes, currEdges, myPaper); //call draw on the nodes. These are the ones defined in the helper
                  drawInitGame(myPaper);
                  initIslands();

                  setTimeout(function(){
                    if (confirm("Run animation?"))
                      var int = setInterval(function(){
                        animateGraph();
                        if (stop) clearInterval(int);
                      },interval);
                  }, 5000);
                });
          //]]>
        </script>
        <script src="javascripts/mapvisualization_index.js?1333951743" type="text/javascript"></script>
        <script src="javascripts/game.js?1337974408" type="text/javascript"></script>
        <script>
          //<![CDATA[
            var islands={0:new Island(0,28),3:new Island(3,20),4:new Island(4,52),5:new Island(5,48),6:new Island(6,33),7:new Island(7,12),8:new Island(8,7),10:new Island(10,10),11:new Island(11,9),12:new Island(12,45),13:new Island(13,15),15:new Island(15,14),16:new Island(16,52),17:new Island(17,40),18:new Island(18,47),19:new Island(19,61),20:new Island(20,40),21:new Island(21,31),22:new Island(22,37),23:new Island(23,49),24:new Island(24,6),25:new Island(25,39),26:new Island(26,42),27:new Island(27,23),28:new Island(28,7),29:new Island(29,45),30:new Island(30,53),31:new Island(31,42),32:new Island(32,28),33:new Island(33,30),34:new Island(34,8),35:new Island(35,16),36:new Island(36,11),37:new Island(37,28),38:new Island(38,30),39:new Island(39,28),};

//<!-- #REPLACEANIMATIONDATA -->
          //]]>
        </script>
        <div id='contentwrapper'>
          <div id='eval_notification' style='display:none'>
            <a href="#" onclick="$('#goto_eval_form').submit();; return false;">When finished, click here to evaluate the Causlings game!</a>
            <form accept-charset="UTF-8" action="/game/research/evaluation" id="goto_eval_form" method="post" target="_blank"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="v36hOwZNgbfSILo57Ldqwm6/3SK5ihbUDgF1jFV7RJ4=" /></div>
                <input id="player" name="player" type="hidden" value="400167505" />
            </form>
          </div>
          <div class='game_box'>
            <div id='score_notice'>
              <div id='score_content'>
                Calculating score...
              </div>
              <!-- .closebutton{:style=>"float:right;width:15px;position:relative;top:-10px"} -->
              <!-- %img{:border =>'0', :src=>'images/system/close.png', :alt=>'close button', :width=>'15', :height=>'15'} -->
              <div class='clearboth'></div>
            </div>
            <div id='button_bar'>
              <div id='title_game'>
                <img src='images/game/title_game.png'>
              </div>
              <div id='go_buttons'>
                <button id='run_button'>
                  RELEASE THE<br>CAUSLINGS!
                </button>
                <!-- %a{:href => "/documents/samakiarticle.html", :title => "About the Samaki", :class => "colorbox_popup" } -->
                <button id='article_button'>
                  ABOUT THE<br>SAMAKI
                </button>
                <!-- %a{:href => "/documents/quickhelp.html", :title => "How to Play", :class => "colorbox_popup"} -->
                <button id='help_button' style='width:100px;'>
                  HELP
                </button>
              </div>
              <div class='clearboth'></div>
            </div>
            <div id='vis_container'>
              <div id='canvas_container'></div>
            </div>
            <div class='clearboth'></div>
          </div>
        </div>
        <div class='clearboth'></div>
        <div id='tmp'></div>
      </div>
      <div id='notice_partial'>
        <!-- / The Notice Div -->
        <div id='notice_container'>
          <div id='notice'>
            
          </div>
        </div>
      </div>
      <div id='progress_partial'>
        <!-- / The Notice Div -->
        <div id='progress_container'>
          <span id='progress_icon'></span>
          <span id='progress_message'></span>
        </div>
      </div>
      <div id='tooltip_partial'>
        <!-- / tooltip! -->
        <div id='tool_tip'>
          <div class='contents-tooltip'>
            <div class='txt-tooltip'></div>
          </div>
          <div class='arrow-tooltip_back'></div>
          <div class='arrow-tooltip'></div>
        </div>
      </div>
    </div>
  </body>
</html>
